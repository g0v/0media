// Generated by LiveScript 1.2.0
var main;
main = function($scope, $interval){
  $scope.skrollr = skrollr.init({
    forceHeight: false,
    smoothScrolling: false
  });
  $scope.totalheight = 0;
  $scope.refreshing = false;
  $scope.refresh = function(){
    if ($scope.refreshing) {
      clearTimeout($scope.refreshing);
    }
    return $scope.refreshing = setTimeout(function(){
      $scope.$apply(function(){
        return $scope.refreshing = null;
      });
      return $scope.skrollr.refresh();
    }, 500);
  };
  $(window).resize(function(){
    return $scope.refresh();
  });
  return $interval(function(){
    var ta;
    ta = $('#tail-anchor').offset().top;
    if ($scope.totalheight !== ta) {
      $scope.totalheight = ta;
      return $scope.refresh();
    }
  }, 1000);
};